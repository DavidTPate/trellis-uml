<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1223px" preserveAspectRatio="none" style="width:1247px;height:1223px;background:#FFFFFF;" version="1.1" viewBox="0 0 1247 1223" width="1247px" zoomAndPan="magnify"><defs/><g><rect height="26.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="278" x="480.75" y="22.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="75" x="485.75" y="41.3125">Trellis CLI</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="565.75" y="41.3125">- Build Sequence Diagram</text><rect fill="#FFFFFF" height="961.8691" style="stroke:#181818;stroke-width:1.0;" width="10" x="265.5" y="163.0645"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="513.5" y="231.9961"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="637.5" y="305.9277"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="379.8594"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.5" y="453.791"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1122" y="1060.623"/><rect height="918.5586" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1220.5" x="10" y="178.0645"/><rect height="591.5215" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1200.5" x="20" y="498.1016"/><rect height="560.2109" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1180.5" x="30" y="522.4121"/><rect height="61.9316" style="stroke:#000000;stroke-width:1.5;fill:none;" width="278.5" x="40" y="661.9648"/><rect height="74.9316" style="stroke:#000000;stroke-width:1.5;fill:none;" width="280" x="222.5" y="737.8965"/><rect height="74.9316" style="stroke:#000000;stroke-width:1.5;fill:none;" width="296" x="222.5" y="884.4492"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="68" x2="68" y1="131.7539" y2="1142.9336"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="270.5" x2="270.5" y1="131.7539" y2="1142.9336"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="518.5" x2="518.5" y1="131.7539" y2="1142.9336"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="642.5" x2="642.5" y1="131.7539" y2="1142.9336"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="798.5" x2="798.5" y1="131.7539" y2="1142.9336"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="969.5" x2="969.5" y1="131.7539" y2="1142.9336"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1126.5" x2="1126.5" y1="131.7539" y2="1142.9336"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="50" y="128.8008">User</text><ellipse cx="68.5" cy="63.7656" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M68.5,71.7656 L68.5,98.7656 M55.5,79.7656 L81.5,79.7656 M68.5,98.7656 L55.5,113.7656 M68.5,98.7656 L81.5,113.7656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="50" y="1155.4688">User</text><ellipse cx="68.5" cy="1166.9219" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M68.5,1174.9219 L68.5,1201.9219 M55.5,1182.9219 L81.5,1182.9219 M68.5,1201.9219 L55.5,1216.9219 M68.5,1201.9219 L81.5,1216.9219 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="232.5" y="112.3125">«CLI Tool»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="234" y="128.8008">Trellis CLI</text><ellipse cx="270.5" cy="82.7773" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="266.5,70.7773,272.5,65.7773,270.5,70.7773,272.5,75.7773,266.5,70.7773" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="232.5" y="1155.4688">«CLI Tool»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="234" y="1171.957">Trellis CLI</text><ellipse cx="270.5" cy="1190.9102" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="266.5,1178.9102,272.5,1173.9102,270.5,1178.9102,272.5,1183.9102,266.5,1178.9102" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#E2E2F0" height="46.9766" style="stroke:#181818;stroke-width:0.5;" width="106" x="467.5" y="79.7773"/><rect fill="#E2E2F0" height="46.9766" style="stroke:#181818;stroke-width:0.5;" width="106" x="463.5" y="83.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="92" x="470.5" y="104.3125">«YAML/JSON»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="492" y="120.8008">Models</text><rect fill="#E2E2F0" height="46.9766" style="stroke:#181818;stroke-width:0.5;" width="106" x="467.5" y="1141.9336"/><rect fill="#E2E2F0" height="46.9766" style="stroke:#181818;stroke-width:0.5;" width="106" x="463.5" y="1145.9336"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="92" x="470.5" y="1166.4688">«YAML/JSON»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="492" y="1182.957">Models</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="583.5" y="83.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="590.5" y="104.3125">«JSON Schema»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="616" y="120.8008">Schema</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="583.5" y="1141.9336"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="590.5" y="1162.4688">«JSON Schema»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="616" y="1178.957">Schema</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="711.5" y="83.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="160" x="718.5" y="104.3125">«Handlebars Template»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="766.5" y="120.8008">Template</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="711.5" y="1141.9336"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="160" x="718.5" y="1162.4688">«Handlebars Template»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="766.5" y="1178.957">Template</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="895.5" y="83.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="134" x="902.5" y="104.3125">«Javascript Module»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="911" y="120.8008">Processing Script</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="895.5" y="1141.9336"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="134" x="902.5" y="1162.4688">«Javascript Module»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="911" y="1178.957">Processing Script</text><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="143" x="1057.5" y="96.2656"/><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="143" x="1053.5" y="100.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="1060.5" y="120.8008">Model Output Files</text><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="143" x="1057.5" y="1141.9336"/><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="143" x="1053.5" y="1145.9336"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="1060.5" y="1166.4688">Model Output Files</text><rect fill="#FFFFFF" height="961.8691" style="stroke:#181818;stroke-width:1.0;" width="10" x="265.5" y="163.0645"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="513.5" y="231.9961"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="637.5" y="305.9277"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="379.8594"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.5" y="453.791"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1122" y="1060.623"/><polygon fill="#181818" points="253.5,159.0645,263.5,163.0645,253.5,167.0645,257.5,163.0645" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="259.5" y1="163.0645" y2="163.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84" x="75.5" y="158.3223">Build Project</text><path d="M10,178.0645 L84,178.0645 L84,185.375 L74,195.375 L10,195.375 L10,178.0645 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="918.5586" style="stroke:#000000;stroke-width:1.5;" width="1220.5" x="10" y="178.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="25" y="191.6328">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="284" x="99" y="190.6992">["For Each Model Type (subdirectory of /models)"]</text><polygon fill="#181818" points="501.5,227.9961,511.5,231.9961,501.5,235.9961,505.5,231.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="507.5" y1="231.9961" y2="231.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="282.5" y="211.9434">Load Model Files</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="282.5" y="227.2539">./models/**/*.yaml</text><polygon fill="#181818" points="286.5,257.3066,276.5,261.3066,286.5,265.3066,282.5,261.3066" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="517.5" y1="261.3066" y2="261.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="41" x="292.5" y="256.5645">Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="337.5" y="256.5645">[0..*]</text><polygon fill="#181818" points="625.5,301.9277,635.5,305.9277,625.5,309.9277,629.5,305.9277" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="631.5" y1="305.9277" y2="305.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134" x="282.5" y="285.875">Load Model Schema</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="282.5" y="301.1855">./schemas/*.json</text><polygon fill="#181818" points="286.5,331.2383,276.5,335.2383,286.5,339.2383,282.5,335.2383" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="641.5" y1="335.2383" y2="335.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52" x="292.5" y="330.4961">Schema</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="348.5" y="330.4961">[0..1]</text><polygon fill="#181818" points="781.5,375.8594,791.5,379.8594,781.5,383.8594,785.5,379.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="787.5" y1="379.8594" y2="379.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="282.5" y="359.8066">Load Template</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="282.5" y="375.1172">./templates/**/*.hbs</text><polygon fill="#181818" points="286.5,405.1699,276.5,409.1699,286.5,413.1699,282.5,409.1699" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="797.5" y1="409.1699" y2="409.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="64" x="292.5" y="404.4277">Template</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="360.5" y="404.4277">[0..1]</text><polygon fill="#181818" points="952.5,449.791,962.5,453.791,952.5,457.791,956.5,453.791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="958.5" y1="453.791" y2="453.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="152" x="282.5" y="433.7383">Load Processing Script</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="282.5" y="449.0488">./processing/*.js</text><polygon fill="#181818" points="286.5,479.1016,276.5,483.1016,286.5,487.1016,282.5,483.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="968.5" y1="483.1016" y2="483.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38" x="292.5" y="478.3594">Script</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="334.5" y="478.3594">[0..1]</text><path d="M20,498.1016 L87,498.1016 L87,505.4121 L77,515.4121 L20,515.4121 L20,498.1016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="591.5215" style="stroke:#000000;stroke-width:1.5;" width="1200.5" x="20" y="498.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="35" y="511.6699">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="102" y="510.7363">[models.length &amp;&amp; schema &amp;&amp; template]</text><path d="M30,522.4121 L104,522.4121 L104,529.7227 L94,539.7227 L30,539.7227 L30,522.4121 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="560.2109" style="stroke:#000000;stroke-width:1.5;" width="1180.5" x="30" y="522.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="45" y="535.9805">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118" x="119" y="535.0469">[For Each Model File]</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="576.3438" y2="576.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="576.3438" y2="589.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="589.3438" y2="589.3438"/><polygon fill="#181818" points="286.5,585.3438,276.5,589.3438,286.5,593.3438,282.5,589.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="87" x="282.5" y="556.291">Import Script</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="282.5" y="571.6016">import(scriptPath)</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="633.9648" y2="633.9648"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="633.9648" y2="646.9648"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="646.9648" y2="646.9648"/><polygon fill="#181818" points="286.5,642.9648,276.5,646.9648,286.5,650.9648,282.5,646.9648" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100" x="282.5" y="613.9121">Validate Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="282.5" y="629.2227">validate(schema, model)</text><path d="M40,661.9648 L124,661.9648 L124,669.2754 L114,679.2754 L40,679.2754 L40,661.9648 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.9316" style="stroke:#000000;stroke-width:1.5;" width="278.5" x="40" y="661.9648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="55" y="675.5332">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="115" x="139" y="674.5996">[If Validation Failed]</text><polygon fill="#181818" points="79.5,711.8965,69.5,715.8965,79.5,719.8965,75.5,715.8965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="264.5" y1="715.8965" y2="715.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59" x="85.5" y="695.8438">❌  Error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="85.5" y="711.1543">"Model {x} failed validation"</text><path d="M222.5,737.8965 L289.5,737.8965 L289.5,745.207 L279.5,755.207 L222.5,755.207 L222.5,737.8965 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="74.9316" style="stroke:#000000;stroke-width:1.5;" width="280" x="222.5" y="737.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="237.5" y="751.4648">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="304.5" y="750.5313">[Processing Script Exists]</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="791.8281" y2="791.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="791.8281" y2="804.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="804.8281" y2="804.8281"/><polygon fill="#181818" points="286.5,800.8281,276.5,804.8281,286.5,808.8281,282.5,804.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="282.5" y="771.7754">Pre-Process Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="282.5" y="787.0859">preprocess(preprocessFn, model)</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="856.4492" y2="856.4492"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="856.4492" y2="869.4492"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="869.4492" y2="869.4492"/><polygon fill="#181818" points="286.5,865.4492,276.5,869.4492,286.5,873.4492,282.5,869.4492" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139" x="282.5" y="836.3965">De-Reference Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="282.5" y="851.707">dereference(schema)</text><path d="M222.5,884.4492 L289.5,884.4492 L289.5,891.7598 L279.5,901.7598 L222.5,901.7598 L222.5,884.4492 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="74.9316" style="stroke:#000000;stroke-width:1.5;" width="296" x="222.5" y="884.4492"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="237.5" y="898.0176">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="304.5" y="897.084">[Processing Script Exists]</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="938.3809" y2="938.3809"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="938.3809" y2="951.3809"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="951.3809" y2="951.3809"/><polygon fill="#181818" points="286.5,947.3809,276.5,951.3809,286.5,955.3809,282.5,951.3809" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="282.5" y="918.3281">Post-Process Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="282.5" y="933.6387">postprocess(postprocessFn, model)</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="1003.002" y2="1003.002"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="1003.002" y2="1016.002"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="1016.002" y2="1016.002"/><polygon fill="#181818" points="286.5,1012.002,276.5,1016.002,286.5,1020.002,282.5,1016.002" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="205" x="282.5" y="982.9492">Generate Output from Teplate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="282.5" y="998.2598">generate(template, model)</text><polygon fill="#181818" points="1110,1056.623,1120,1060.623,1110,1064.623,1114,1060.623" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="1116" y1="1060.623" y2="1060.623"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58" x="282.5" y="1040.5703">Save File</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="403" x="282.5" y="1055.8809">./output/...original model dir structure.../{modelFileName}.yaml</text><polygon fill="#181818" points="286.5,1070.623,276.5,1074.623,286.5,1078.623,282.5,1074.623" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="1126" y1="1074.623" y2="1074.623"/><polygon fill="#181818" points="79.5,1120.9336,69.5,1124.9336,79.5,1128.9336,75.5,1124.9336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="269.5" y1="1124.9336" y2="1124.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77" x="85.5" y="1120.1914">✅  Success</text><rect height="11.7773" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="112" x="1127.5" y="5"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="112" x="1127.5" y="14.668">Made by Garrett Sutula</text><!--MD5=[359c532fc548a4e27f06a619bb0dcf1c]
@startuml Sequence Diagram
header Made by Garrett Sutula
title __Trellis CLI__ - Build Sequence Diagram

actor "User" as user
control "Trellis CLI" as trellis <<CLI Tool>>
collections "Models" as models <<YAML/JSON>>
participant "Schema" as schema <<JSON Schema>>
participant "Template" as template <<Handlebars Template>>
participant "Processing Script" as script <<Javascript Module>>
collections "Model Output Files" as output

user -> trellis ++: **Build Project**
loop "For Each Model Type (subdirectory of /models)"
  trellis -> models ++: **Load Model Files**\n./models/**/*.yaml
  trellis <- - models - -: **Model** [0..*]
  trellis -> schema ++: **Load Model Schema**\n./schemas/*.json
  trellis <- - schema - -: **Schema** [0..1]
  trellis -> template ++: **Load Template**\n./templates/**/*.hbs
  trellis <- - template - -: **Template** [0..1]
  trellis -> script ++: **Load Processing Script**\n./processing/*.js
  trellis <- - script - -: **Script** [0..1]
  opt models.length && schema && template
    loop For Each Model File
      trellis -> trellis: **Import Script**\nimport(scriptPath)
      trellis -> trellis: **Validate Model**\nvalidate(schema, model)
      break If Validation Failed
        user <- - trellis: **❌  Error**\n"Model {x} failed validation"
      end
      opt Processing Script Exists
        trellis -> trellis: **Pre-Process Model**\npreprocess(preprocessFn, model)
      end
      trellis -> trellis: **De-Reference Model**\ndereference(schema)
      opt Processing Script Exists
        trellis -> trellis: **Post-Process Model**\npostprocess(postprocessFn, model)
      end
      trellis -> trellis: **Generate Output from Teplate**\ngenerate(template, model)
      trellis -> output ++: **Save File**\n./output/...original model dir structure.../{modelFileName}.yaml
      trellis <- - output - -
    end
  end
end
user <- - trellis - -: **✅  Success**
@enduml

PlantUML version 1.2022.5(Sat Apr 30 06:55:52 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>