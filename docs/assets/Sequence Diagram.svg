<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1162px" preserveAspectRatio="none" style="width:1247px;height:1162px;background:#FFFFFF;" version="1.1" viewBox="0 0 1247 1162" width="1247px" zoomAndPan="magnify"><defs/><g><rect height="26.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="278" x="480.75" y="22.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="75" x="485.75" y="41.3125">Trellis CLI</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="565.75" y="41.3125">- Build Sequence Diagram</text><rect fill="#FFFFFF" height="900.627" style="stroke:#181818;stroke-width:1.0;" width="10" x="265.5" y="163.0645"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="513.5" y="216.6855"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="637.5" y="275.3066"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="333.9277"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.5" y="392.5488"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1122" y="999.3809"/><rect height="857.3164" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1220.5" x="10" y="178.0645"/><rect height="591.5215" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1200.5" x="20" y="436.8594"/><rect height="560.2109" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1180.5" x="30" y="461.1699"/><rect height="61.9316" style="stroke:#000000;stroke-width:1.5;fill:none;" width="278.5" x="40" y="600.7227"/><rect height="74.9316" style="stroke:#000000;stroke-width:1.5;fill:none;" width="280" x="222.5" y="676.6543"/><rect height="74.9316" style="stroke:#000000;stroke-width:1.5;fill:none;" width="296" x="222.5" y="823.207"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="68" x2="68" y1="131.7539" y2="1081.6914"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="270.5" x2="270.5" y1="131.7539" y2="1081.6914"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="518.5" x2="518.5" y1="131.7539" y2="1081.6914"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="642.5" x2="642.5" y1="131.7539" y2="1081.6914"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="798.5" x2="798.5" y1="131.7539" y2="1081.6914"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="969.5" x2="969.5" y1="131.7539" y2="1081.6914"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1126.5" x2="1126.5" y1="131.7539" y2="1081.6914"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="50" y="128.8008">User</text><ellipse cx="68.5" cy="63.7656" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M68.5,71.7656 L68.5,98.7656 M55.5,79.7656 L81.5,79.7656 M68.5,98.7656 L55.5,113.7656 M68.5,98.7656 L81.5,113.7656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="50" y="1094.2266">User</text><ellipse cx="68.5" cy="1105.6797" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M68.5,1113.6797 L68.5,1140.6797 M55.5,1121.6797 L81.5,1121.6797 M68.5,1140.6797 L55.5,1155.6797 M68.5,1140.6797 L81.5,1155.6797 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="232.5" y="112.3125">«CLI Tool»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="234" y="128.8008">Trellis CLI</text><ellipse cx="270.5" cy="82.7773" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="266.5,70.7773,272.5,65.7773,270.5,70.7773,272.5,75.7773,266.5,70.7773" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="232.5" y="1094.2266">«CLI Tool»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="234" y="1110.7148">Trellis CLI</text><ellipse cx="270.5" cy="1129.668" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="266.5,1117.668,272.5,1112.668,270.5,1117.668,272.5,1122.668,266.5,1117.668" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#E2E2F0" height="46.9766" style="stroke:#181818;stroke-width:0.5;" width="106" x="467.5" y="79.7773"/><rect fill="#E2E2F0" height="46.9766" style="stroke:#181818;stroke-width:0.5;" width="106" x="463.5" y="83.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="92" x="470.5" y="104.3125">«YAML/JSON»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="492" y="120.8008">Models</text><rect fill="#E2E2F0" height="46.9766" style="stroke:#181818;stroke-width:0.5;" width="106" x="467.5" y="1080.6914"/><rect fill="#E2E2F0" height="46.9766" style="stroke:#181818;stroke-width:0.5;" width="106" x="463.5" y="1084.6914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="92" x="470.5" y="1105.2266">«YAML/JSON»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="492" y="1121.7148">Models</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="583.5" y="83.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="590.5" y="104.3125">«JSON Schema»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="616" y="120.8008">Schema</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="583.5" y="1080.6914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="590.5" y="1101.2266">«JSON Schema»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="616" y="1117.7148">Schema</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="711.5" y="83.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="160" x="718.5" y="104.3125">«Handlebars Template»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="766.5" y="120.8008">Template</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="711.5" y="1080.6914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="160" x="718.5" y="1101.2266">«Handlebars Template»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="766.5" y="1117.7148">Template</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="895.5" y="83.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="134" x="902.5" y="104.3125">«Javascript Module»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="911" y="120.8008">Processing Script</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="895.5" y="1080.6914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="134" x="902.5" y="1101.2266">«Javascript Module»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="911" y="1117.7148">Processing Script</text><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="143" x="1057.5" y="96.2656"/><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="143" x="1053.5" y="100.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="1060.5" y="120.8008">Model Output Files</text><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="143" x="1057.5" y="1080.6914"/><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="143" x="1053.5" y="1084.6914"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="1060.5" y="1105.2266">Model Output Files</text><rect fill="#FFFFFF" height="900.627" style="stroke:#181818;stroke-width:1.0;" width="10" x="265.5" y="163.0645"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="513.5" y="216.6855"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="637.5" y="275.3066"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="333.9277"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.5" y="392.5488"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1122" y="999.3809"/><polygon fill="#181818" points="253.5,159.0645,263.5,163.0645,253.5,167.0645,257.5,163.0645" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="259.5" y1="163.0645" y2="163.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84" x="75.5" y="158.3223">Build Project</text><path d="M10,178.0645 L84,178.0645 L84,185.375 L74,195.375 L10,195.375 L10,178.0645 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="857.3164" style="stroke:#000000;stroke-width:1.5;" width="1220.5" x="10" y="178.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="25" y="191.6328">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="284" x="99" y="190.6992">["For Each Model Type (subdirectory of /models)"]</text><polygon fill="#181818" points="501.5,212.6855,511.5,216.6855,501.5,220.6855,505.5,216.6855" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="507.5" y1="216.6855" y2="216.6855"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="282.5" y="211.9434">Load Model Files</text><polygon fill="#181818" points="286.5,241.9961,276.5,245.9961,286.5,249.9961,282.5,245.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="517.5" y1="245.9961" y2="245.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="41" x="292.5" y="241.2539">Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="337.5" y="241.2539">[0..*]</text><polygon fill="#181818" points="625.5,271.3066,635.5,275.3066,625.5,279.3066,629.5,275.3066" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="631.5" y1="275.3066" y2="275.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134" x="282.5" y="270.5645">Load Model Schema</text><polygon fill="#181818" points="286.5,300.6172,276.5,304.6172,286.5,308.6172,282.5,304.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="641.5" y1="304.6172" y2="304.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52" x="292.5" y="299.875">Schema</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="348.5" y="299.875">[0..1]</text><polygon fill="#181818" points="781.5,329.9277,791.5,333.9277,781.5,337.9277,785.5,333.9277" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="787.5" y1="333.9277" y2="333.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="282.5" y="329.1855">Load Template</text><polygon fill="#181818" points="286.5,359.2383,276.5,363.2383,286.5,367.2383,282.5,363.2383" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="797.5" y1="363.2383" y2="363.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="64" x="292.5" y="358.4961">Template</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="360.5" y="358.4961">[0..1]</text><polygon fill="#181818" points="952.5,388.5488,962.5,392.5488,952.5,396.5488,956.5,392.5488" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="958.5" y1="392.5488" y2="392.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="152" x="282.5" y="387.8066">Load Processing Script</text><polygon fill="#181818" points="286.5,417.8594,276.5,421.8594,286.5,425.8594,282.5,421.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="968.5" y1="421.8594" y2="421.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38" x="292.5" y="417.1172">Script</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="334.5" y="417.1172">[0..1]</text><path d="M20,436.8594 L87,436.8594 L87,444.1699 L77,454.1699 L20,454.1699 L20,436.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="591.5215" style="stroke:#000000;stroke-width:1.5;" width="1200.5" x="20" y="436.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="35" y="450.4277">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="102" y="449.4941">[models.length &amp;&amp; schema &amp;&amp; template]</text><path d="M30,461.1699 L104,461.1699 L104,468.4805 L94,478.4805 L30,478.4805 L30,461.1699 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="560.2109" style="stroke:#000000;stroke-width:1.5;" width="1180.5" x="30" y="461.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="45" y="474.7383">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118" x="119" y="473.8047">[For Each Model File]</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="515.1016" y2="515.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="515.1016" y2="528.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="528.1016" y2="528.1016"/><polygon fill="#181818" points="286.5,524.1016,276.5,528.1016,286.5,532.1016,282.5,528.1016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="87" x="282.5" y="495.0488">Import Script</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="282.5" y="510.3594">import(scriptPath)</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="572.7227" y2="572.7227"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="572.7227" y2="585.7227"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="585.7227" y2="585.7227"/><polygon fill="#181818" points="286.5,581.7227,276.5,585.7227,286.5,589.7227,282.5,585.7227" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100" x="282.5" y="552.6699">Validate Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="282.5" y="567.9805">validate(schema, model)</text><path d="M40,600.7227 L124,600.7227 L124,608.0332 L114,618.0332 L40,618.0332 L40,600.7227 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.9316" style="stroke:#000000;stroke-width:1.5;" width="278.5" x="40" y="600.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="55" y="614.291">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="115" x="139" y="613.3574">[If Validation Failed]</text><polygon fill="#181818" points="79.5,650.6543,69.5,654.6543,79.5,658.6543,75.5,654.6543" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="264.5" y1="654.6543" y2="654.6543"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59" x="85.5" y="634.6016">❌  Error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="85.5" y="649.9121">"Model {x} failed validation"</text><path d="M222.5,676.6543 L289.5,676.6543 L289.5,683.9648 L279.5,693.9648 L222.5,693.9648 L222.5,676.6543 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="74.9316" style="stroke:#000000;stroke-width:1.5;" width="280" x="222.5" y="676.6543"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="237.5" y="690.2227">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="304.5" y="689.2891">[Processing Script Exists]</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="730.5859" y2="730.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="730.5859" y2="743.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="743.5859" y2="743.5859"/><polygon fill="#181818" points="286.5,739.5859,276.5,743.5859,286.5,747.5859,282.5,743.5859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="282.5" y="710.5332">Pre-Process Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="282.5" y="725.8438">preprocess(preprocessFn, model)</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="795.207" y2="795.207"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="795.207" y2="808.207"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="808.207" y2="808.207"/><polygon fill="#181818" points="286.5,804.207,276.5,808.207,286.5,812.207,282.5,808.207" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139" x="282.5" y="775.1543">De-Reference Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="282.5" y="790.4648">dereference(schema)</text><path d="M222.5,823.207 L289.5,823.207 L289.5,830.5176 L279.5,840.5176 L222.5,840.5176 L222.5,823.207 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="74.9316" style="stroke:#000000;stroke-width:1.5;" width="296" x="222.5" y="823.207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="237.5" y="836.7754">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="304.5" y="835.8418">[Processing Script Exists]</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="877.1387" y2="877.1387"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="877.1387" y2="890.1387"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="890.1387" y2="890.1387"/><polygon fill="#181818" points="286.5,886.1387,276.5,890.1387,286.5,894.1387,282.5,890.1387" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="282.5" y="857.0859">Post-Process Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="282.5" y="872.3965">postprocess(postprocessFn, model)</text><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="317.5" y1="941.7598" y2="941.7598"/><line style="stroke:#181818;stroke-width:1.0;" x1="317.5" x2="317.5" y1="941.7598" y2="954.7598"/><line style="stroke:#181818;stroke-width:1.0;" x1="276.5" x2="317.5" y1="954.7598" y2="954.7598"/><polygon fill="#181818" points="286.5,950.7598,276.5,954.7598,286.5,958.7598,282.5,954.7598" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="205" x="282.5" y="921.707">Generate Output from Teplate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="282.5" y="937.0176">generate(template, model)</text><polygon fill="#181818" points="1110,995.3809,1120,999.3809,1110,1003.3809,1114,999.3809" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="275.5" x2="1116" y1="999.3809" y2="999.3809"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58" x="282.5" y="979.3281">Save File</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="403" x="282.5" y="994.6387">./output/...original model dir structure.../{modelFileName}.yaml</text><polygon fill="#181818" points="286.5,1009.3809,276.5,1013.3809,286.5,1017.3809,282.5,1013.3809" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280.5" x2="1126" y1="1013.3809" y2="1013.3809"/><polygon fill="#181818" points="79.5,1059.6914,69.5,1063.6914,79.5,1067.6914,75.5,1063.6914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="269.5" y1="1063.6914" y2="1063.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77" x="85.5" y="1058.9492">✅  Success</text><rect height="11.7773" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="112" x="1127.5" y="5"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="112" x="1127.5" y="14.668">Made by Garrett Sutula</text><!--MD5=[406b3118f3ca88acced461132611c87b]
@startuml Sequence Diagram
header Made by Garrett Sutula
title __Trellis CLI__ - Build Sequence Diagram

actor "User" as user
control "Trellis CLI" as trellis <<CLI Tool>>
collections "Models" as models <<YAML/JSON>>
participant "Schema" as schema <<JSON Schema>>
participant "Template" as template <<Handlebars Template>>
participant "Processing Script" as script <<Javascript Module>>
collections "Model Output Files" as output

user -> trellis ++: **Build Project**
loop "For Each Model Type (subdirectory of /models)"
  trellis -> models ++: **Load Model Files**
  trellis <- - models - -: **Model** [0..*]
  trellis -> schema ++: **Load Model Schema**
  trellis <- - schema - -: **Schema** [0..1]
  trellis -> template ++: **Load Template**
  trellis <- - template - -: **Template** [0..1]
  trellis -> script ++: **Load Processing Script**
  trellis <- - script - -: **Script** [0..1]
  opt models.length && schema && template
    loop For Each Model File
      trellis -> trellis: **Import Script**\nimport(scriptPath)
      trellis -> trellis: **Validate Model**\nvalidate(schema, model)
      break If Validation Failed
        user <- - trellis: **❌  Error**\n"Model {x} failed validation"
      end
      opt Processing Script Exists
        trellis -> trellis: **Pre-Process Model**\npreprocess(preprocessFn, model)
      end
      trellis -> trellis: **De-Reference Model**\ndereference(schema)
      opt Processing Script Exists
        trellis -> trellis: **Post-Process Model**\npostprocess(postprocessFn, model)
      end
      trellis -> trellis: **Generate Output from Teplate**\ngenerate(template, model)
      trellis -> output ++: **Save File**\n./output/...original model dir structure.../{modelFileName}.yaml
      trellis <- - output - -
    end
  end
end
user <- - trellis - -: **✅  Success**
@enduml

PlantUML version 1.2022.5(Sat Apr 30 06:55:52 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>